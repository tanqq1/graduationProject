<mxfile host="app.diagrams.net" modified="2022-01-17T06:32:15.442Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36" etag="-DwBlpXUukHIL8IhAM5L" version="14.8.3" type="github" pages="5">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Immer 源码">
    <mxGraphModel dx="1865" dy="547" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="nkPAldrCDChmKuOqDMVw-0" value="redux-toolkit / createSlice" style="swimlane;startSize=20;horizontal=0;childLayout=treeLayout;horizontalTree=1;resizable=0;containerType=tree;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="260" y="300" width="890" height="569" as="geometry">
            <mxRectangle x="260" y="300" width="50" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-1" value="createSlice" style="whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="40" y="150.892" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-2" value="createAction" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="190" y="20" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-3" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;html=1;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-1" target="nkPAldrCDChmKuOqDMVw-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-4" value="createReducer" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="190" y="281.784" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-5" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;html=1;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-1" target="nkPAldrCDChmKuOqDMVw-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-21" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;html=1;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-4" target="nkPAldrCDChmKuOqDMVw-22" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="400" y="374.08399999999995" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-22" value="" style="whiteSpace=wrap;html=1;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="340" y="54.553999999999974" width="530" height="494.46" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-24" value="caseReducer?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="400" y="165.192" width="130" height="41.59" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-25" value="no" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-24" edge="1">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="580" y="186.78" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-26" value="yes" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;verticalAlign=top;endArrow=open;endSize=8;strokeColor=#ff0000;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-24" edge="1">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="465" y="285.192" as="targetPoint" />
            <Array as="points">
              <mxPoint x="465" y="267.192" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-28" value="return previousState" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="590" y="158.372" width="140" height="48.41" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-29" target="nkPAldrCDChmKuOqDMVw-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-29" value="preState 是草稿？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="383.75" y="285.192" width="156.25" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#FF0000;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-29" target="nkPAldrCDChmKuOqDMVw-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-33" target="nkPAldrCDChmKuOqDMVw-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#FF0000;" parent="nkPAldrCDChmKuOqDMVw-0" source="nkPAldrCDChmKuOqDMVw-33" target="nkPAldrCDChmKuOqDMVw-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-33" value="preState 数据是基本类型" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="380.62" y="395.76599999999996" width="162.5" height="60.97" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-34" value="yes" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="560" y="285.19199999999995" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-39" value="&lt;span&gt;return caseReducer(prevState) || prevState&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="600" y="289.07" width="250" height="42.24" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-45" value="no" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="460" y="355.762" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-27" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;caseReducers&lt;/span&gt;.&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;reduce&lt;/span&gt;((&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;prevState&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;caseReducer&lt;/span&gt;),initalState)&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="400" y="119.99599999999998" width="420" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-46" value="return caseReducer(preState,action)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="610" y="402.896" width="210" height="46.71" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-48" value="yes" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="550" y="402.89599999999996" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-49" value="return produce(prevState,(draft) =&amp;gt; caseReducer(draft,action))" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#82b366;fillColor=#d5e8d4;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="490" y="484.308" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-57" value="no" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-0" vertex="1">
          <mxGeometry x="360" y="464.308" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-0" target="nkPAldrCDChmKuOqDMVw-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#67AB9F;strokeWidth=6;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-49" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="925" y="1120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-61" value="Immer class" style="swimlane;startSize=20;horizontal=1;childLayout=treeLayout;horizontalTree=0;resizable=0;containerType=tree;strokeColor=#10739e;fillColor=#b1ddf0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="320" y="1130" width="1217" height="1000" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-62" target="nkPAldrCDChmKuOqDMVw-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-62" value="&lt;span style=&quot;line-height: 130%&quot;&gt;&lt;b&gt;produce API&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;produce&lt;/span&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(155 , 0 , 0)&quot;&gt;IProduce&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;=&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(199 , 68 , 74)&quot;&gt;any&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;recipe&lt;/span&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;?:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(199 , 68 , 74)&quot;&gt;any&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;patchListener&lt;/span&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;?:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(199 , 68 , 74)&quot;&gt;any&lt;/span&gt;)&amp;nbsp;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;{}&amp;nbsp;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="356.6538700000001" y="40" width="840" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-77" value="isFunction(base) &amp;amp;&amp;amp; ! isFunction(recipe)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="628.2688700000001" y="140" width="296.77" height="110" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-86" value="&amp;nbsp;&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="20" y="150" width="30" height="10" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-85" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;.&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;produce&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;recipe&lt;/span&gt;,&amp;nbsp;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;draft&lt;/span&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(155 , 0 , 0)&quot;&gt;Drafted&lt;/span&gt;)&amp;nbsp;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;.&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;call&lt;/span&gt;(&lt;span style=&quot;color: rgb(199 , 68 , 74)&quot;&gt;this&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;draft&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;args&lt;/span&gt;))&lt;/div&gt;" style="text;html=1;strokeColor=#36393d;fillColor=#cce5ff;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="420" y="110" width="287.49" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-77" target="nkPAldrCDChmKuOqDMVw-88" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="1130" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-88" value="&amp;nbsp;! isFunction(recipe)" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="656.1538700000001" y="300" width="241" height="100" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-89" value="no" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="780" y="260" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-88" target="nkPAldrCDChmKuOqDMVw-93" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="610" y="1250" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-93" value="&lt;span style=&quot;color: rgb(96 , 137 , 180) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;die(6)&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="942.1518400000001" y="450" width="122.49" height="90" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-103" value="yes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="960.0050000000001" y="400" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-115" value="no" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="700" y="400" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-181" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-88" target="nkPAldrCDChmKuOqDMVw-182" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="929.1620000000003" y="1290" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-182" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;patchListener &amp;amp;&amp;amp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;!isFunction(&lt;/span&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;patchListener&lt;/span&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;) ?&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="488.6659000000001" y="450" width="393.68" height="100" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-183" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-182" target="nkPAldrCDChmKuOqDMVw-184" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="929.1619999999998" y="1440" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-184" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;die(7)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="737.1358" y="600" width="178.22" height="50" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-185" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-182" target="nkPAldrCDChmKuOqDMVw-186" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="929.1619999999998" y="1440" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-186" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;isDraftable&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="455.65600000000006" y="600" width="209.09" height="80" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-189" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-186" target="nkPAldrCDChmKuOqDMVw-190" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1015.4515000000001" y="1590" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-190" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;isDraftable&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="617.605" y="730" width="209.09" height="80" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-193" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-186" target="nkPAldrCDChmKuOqDMVw-194" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1015.4515000000001" y="1590" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-194" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;||&lt;/span&gt;&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;typeof&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;!==&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(154 , 168 , 58)&quot;&gt;&quot;object&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="293.707" y="730" width="234.08" height="100" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-194" target="nkPAldrCDChmKuOqDMVw-198" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1140.7523499999998" y="1720" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-198" value="&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;font color=&quot;#ce6700&quot;&gt;die(21,base)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#b46504;fillColor=#fad7ac;rounded=0;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="443.24199999999996" y="880" width="209.09" height="80" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-199" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#4D4D4D;" parent="nkPAldrCDChmKuOqDMVw-61" source="nkPAldrCDChmKuOqDMVw-194" target="nkPAldrCDChmKuOqDMVw-200" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1142.3766999999998" y="1720" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-200" value="&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;font color=&quot;#676867&quot;&gt;-------&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeColor=#B20000;fillColor=#e51400;rounded=0;fontColor=#ffffff;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="169.16199999999992" y="880" width="234.08" height="100" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-187" value="yes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="730" y="550" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-188" value="no&lt;br&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="622.33" y="550" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-204" value="yes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="690" y="680" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-203" value="no" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="477" y="680" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-201" value="no" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="470" y="830" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-202" value="yes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="350" y="830" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-128" value="yes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="nkPAldrCDChmKuOqDMVw-61" vertex="1">
          <mxGeometry x="356.65" y="140" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-76" value="&lt;h1&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198) ; background-color: rgb(30 , 30 , 30) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-weight: normal ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #9872a2&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;frozenInitialState&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;createNextState&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;initialState&lt;/span&gt;,&amp;nbsp;()&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;{})&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;function&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #6089b4&quot;&gt;state&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;frozenInitialState&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;action&lt;/span&gt;)&lt;span style=&quot;color: #676867&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;S&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;let&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;caseReducers&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;[&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;actionsMap&lt;/span&gt;[&lt;span style=&quot;color: #6089b4&quot;&gt;action&lt;/span&gt;.&lt;span style=&quot;color: #9872a2&quot;&gt;type&lt;/span&gt;],&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: #6089b4&quot;&gt;finalActionMatchers&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.&lt;span style=&quot;color: #ce6700&quot;&gt;filter&lt;/span&gt;(({&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;matcher&lt;/span&gt;&amp;nbsp;})&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;matcher&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;action&lt;/span&gt;))&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;.&lt;span style=&quot;color: #ce6700&quot;&gt;map&lt;/span&gt;(({&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;reducer&lt;/span&gt;&amp;nbsp;})&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;reducer&lt;/span&gt;),&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;]&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #6089b4&quot;&gt;caseReducers&lt;/span&gt;.&lt;span style=&quot;color: #ce6700&quot;&gt;filter&lt;/span&gt;((&lt;span style=&quot;color: #ce6700&quot;&gt;cr&lt;/span&gt;)&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;!!&lt;/span&gt;&lt;span style=&quot;color: #ce6700&quot;&gt;cr&lt;/span&gt;).&lt;span style=&quot;color: #c7444a&quot;&gt;length&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;===&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;0&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;caseReducers&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;[&lt;span style=&quot;color: #ce6700&quot;&gt;finalDefaultCaseReducer&lt;/span&gt;]&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;caseReducers&lt;/span&gt;.&lt;span style=&quot;color: #ce6700&quot;&gt;reduce&lt;/span&gt;((&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;caseReducer&lt;/span&gt;)&lt;span style=&quot;color: #676867&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;S&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #ce6700&quot;&gt;caseReducer&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #ce6700&quot;&gt;isDraft&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;))&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;If&amp;nbsp;it&#39;s&amp;nbsp;already&amp;nbsp;a&amp;nbsp;draft,&amp;nbsp;we&amp;nbsp;must&amp;nbsp;already&amp;nbsp;be&amp;nbsp;inside&amp;nbsp;a&amp;nbsp;`createNextState`&amp;nbsp;call,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;likely&amp;nbsp;because&amp;nbsp;this&amp;nbsp;is&amp;nbsp;being&amp;nbsp;wrapped&amp;nbsp;in&amp;nbsp;`createReducer`,&amp;nbsp;`createSlice`,&amp;nbsp;or&amp;nbsp;nested&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;inside&amp;nbsp;an&amp;nbsp;existing&amp;nbsp;draft.&amp;nbsp;It&#39;s&amp;nbsp;safe&amp;nbsp;to&amp;nbsp;just&amp;nbsp;pass&amp;nbsp;the&amp;nbsp;draft&amp;nbsp;to&amp;nbsp;the&amp;nbsp;mutator.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;draft&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;as&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;Draft&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #9b0000&quot;&gt;S&lt;/span&gt;&amp;gt;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;We&amp;nbsp;can&amp;nbsp;assume&amp;nbsp;this&amp;nbsp;is&amp;nbsp;already&amp;nbsp;a&amp;nbsp;draft&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;result&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;caseReducer&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;draft&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;action&lt;/span&gt;)&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #676867&quot;&gt;typeof&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;result&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;===&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9aa83a&quot;&gt;&#39;undefined&#39;&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;result&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;as&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;S&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;else&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #676867&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: #ce6700&quot;&gt;isDraftable&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;))&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;If&amp;nbsp;state&amp;nbsp;is&amp;nbsp;not&amp;nbsp;draftable&amp;nbsp;(ex:&amp;nbsp;a&amp;nbsp;primitive,&amp;nbsp;such&amp;nbsp;as&amp;nbsp;0),&amp;nbsp;we&amp;nbsp;want&amp;nbsp;to&amp;nbsp;directly&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;return&amp;nbsp;the&amp;nbsp;caseReducer&amp;nbsp;func&amp;nbsp;and&amp;nbsp;not&amp;nbsp;wrap&amp;nbsp;it&amp;nbsp;with&amp;nbsp;produce.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;result&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;caseReducer&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;as&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #c7444a&quot;&gt;any&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;action&lt;/span&gt;)&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #676867&quot;&gt;typeof&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;result&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;===&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9aa83a&quot;&gt;&#39;undefined&#39;&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;if&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;===&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #408080&quot;&gt;null&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;throw&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #c7444a&quot;&gt;Error&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9aa83a&quot;&gt;&#39;A&amp;nbsp;case&amp;nbsp;reducer&amp;nbsp;on&amp;nbsp;a&amp;nbsp;non-draftable&amp;nbsp;value&amp;nbsp;must&amp;nbsp;not&amp;nbsp;return&amp;nbsp;undefined&#39;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;)&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;result&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;as&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;S&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;else&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;@ts-ignore&amp;nbsp;createNextState()&amp;nbsp;produces&amp;nbsp;an&amp;nbsp;Immutable&amp;lt;Draft&amp;lt;S&amp;gt;&amp;gt;&amp;nbsp;rather&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;than&amp;nbsp;an&amp;nbsp;Immutable&amp;lt;S&amp;gt;,&amp;nbsp;and&amp;nbsp;TypeScript&amp;nbsp;cannot&amp;nbsp;find&amp;nbsp;out&amp;nbsp;how&amp;nbsp;to&amp;nbsp;reconcile&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;these&amp;nbsp;two&amp;nbsp;types.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;createNextState&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;,&amp;nbsp;(&lt;span style=&quot;color: #6089b4&quot;&gt;draft&lt;/span&gt;&lt;span style=&quot;color: #676867&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;Draft&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: #9b0000&quot;&gt;S&lt;/span&gt;&amp;gt;)&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;=&amp;gt;&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;caseReducer&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;draft&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;action&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;})&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;previousState&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;},&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;state&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;/div&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fillOpacity=59;arcSize=12;imageAspect=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1230" y="60" width="740" height="1080" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-77" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="710" y="1220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-243" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-226" target="nkPAldrCDChmKuOqDMVw-227" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-226" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;result&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;recipe&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;proxy&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="640" y="2310" width="250" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-285" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-227" target="nkPAldrCDChmKuOqDMVw-232" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-227" value="&lt;span style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;&amp;nbsp;leaveScope(scope) || revokeScope(scope)&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="640" y="2350" width="325" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-231" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-229" target="nkPAldrCDChmKuOqDMVw-230" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-229" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;typeof&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(199 , 68 , 74)&quot;&gt;Promise&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;!==&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(154 , 168 , 58)&quot;&gt;&quot;undefined&quot;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;result&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;instanceof&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(155 , 0 , 0)&quot;&gt;Promise&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="680" y="2420" width="530" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-230" value="&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px&quot;&gt;then(result=&amp;gt; {...})&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1290" y="2410" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-286" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-232" target="nkPAldrCDChmKuOqDMVw-233" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-232" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;usePatchesInScope&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;scope&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;patchListener&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="640" y="2480" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-233" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;return&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;processResult&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;result&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;scope&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="640" y="2540" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-241" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-235" target="nkPAldrCDChmKuOqDMVw-226" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-256" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-235" target="nkPAldrCDChmKuOqDMVw-255" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-235" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;proxy&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;createProxy&lt;/span&gt;(&lt;span style=&quot;color: rgb(199 , 68 , 74)&quot;&gt;this&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(64 , 128 , 128)&quot;&gt;undefined&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="500" y="2250" width="371.34" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-240" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-236" target="nkPAldrCDChmKuOqDMVw-235" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-250" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-236" target="nkPAldrCDChmKuOqDMVw-249" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-236" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;scope&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;enterScope&lt;/span&gt;(&lt;span style=&quot;color: rgb(199 , 68 , 74)&quot;&gt;this&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="610" y="2180" width="261.34" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-239" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#4D4D4D;strokeWidth=3;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-190" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="790" y="2170" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1042" y="2150" />
              <mxPoint x="790" y="2150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-244" value="yes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1050" y="2040" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-249" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;function&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;createScope&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;parent_&lt;/span&gt;&lt;span style=&quot;color: #676867&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;ImmerScope&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;|&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #c7444a&quot;&gt;undefined&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;immer_&lt;/span&gt;&lt;span style=&quot;color: #676867&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;Immer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;)&lt;span style=&quot;color: #676867&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;ImmerScope&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;drafts_:&amp;nbsp;[],&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;parent_&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;immer_&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;Whenever&amp;nbsp;the&amp;nbsp;modified&amp;nbsp;draft&amp;nbsp;contains&amp;nbsp;a&amp;nbsp;draft&amp;nbsp;from&amp;nbsp;another&amp;nbsp;scope,&amp;nbsp;we&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9a9b99&quot;&gt;//&amp;nbsp;need&amp;nbsp;to&amp;nbsp;prevent&amp;nbsp;auto-freezing&amp;nbsp;so&amp;nbsp;the&amp;nbsp;unowned&amp;nbsp;draft&amp;nbsp;can&amp;nbsp;be&amp;nbsp;finalized.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;canAutoFreeze_:&amp;nbsp;&lt;span style=&quot;color: #408080&quot;&gt;true&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;unfinalizedDrafts_:&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #9872a2&quot;&gt;export&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;function&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;enterScope&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;immer&lt;/span&gt;&lt;span style=&quot;color: #676867&quot;&gt;:&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #9b0000&quot;&gt;Immer&lt;/span&gt;)&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;return&lt;/span&gt;&amp;nbsp;(&lt;span style=&quot;color: #6089b4&quot;&gt;currentScope&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #ce6700&quot;&gt;createScope&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;currentScope&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;immer&lt;/span&gt;))&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" style="shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;fixedSize=1;rounded=0;shadow=0;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1150" y="2022.5" width="650" height="355" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-257" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeColor=#4D4D4D;strokeWidth=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-255" target="nkPAldrCDChmKuOqDMVw-273" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="90" y="2380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-267" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-255" target="nkPAldrCDChmKuOqDMVw-265" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-269" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-255" target="nkPAldrCDChmKuOqDMVw-268" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="112" y="2210" />
              <mxPoint x="135" y="2210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-276" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-255" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="237" y="2490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-277" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.054;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-255" target="nkPAldrCDChmKuOqDMVw-235" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-255" value="&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;draft = createProxy（immer,&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;value,&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;parent）&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;scope.drafts_.push(draft)&lt;/div&gt;&lt;/div&gt;" style="ellipse;whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="2240" width="220" height="170" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-265" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;getPlugin&lt;/span&gt;(&lt;span style=&quot;color: rgb(154 , 168 , 58)&quot;&gt;&quot;MapSet&quot;&lt;/span&gt;).&lt;/div&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;proxyMap_&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;value&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;parent&lt;/span&gt;)&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="294.33" y="2130" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-268" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;getPlugin&lt;/span&gt;(&lt;span style=&quot;color: rgb(154 , 168 , 58)&quot;&gt;&quot;MapSet&quot;&lt;/span&gt;).&lt;/div&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;proxySet_&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;value&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;parent&lt;/span&gt;)&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="40" y="2130" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-270" value="&lt;b&gt;isSet&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="180" y="2200" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-271" value="&lt;b&gt;isMap&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="305" y="2230" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-272" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;b&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;immer&lt;/span&gt;.&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;useProxies_&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-100" y="2340" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-273" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;createProxyProxy&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;value&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;parent&lt;/span&gt;)&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#666666;fillColor=#f5f5f5;fontColor=#333333;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-230" y="2390" width="270" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-283" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4D4D4D;strokeWidth=1;entryX=0.533;entryY=0.025;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-274" target="nkPAldrCDChmKuOqDMVw-282" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-274" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;getPlugin&lt;/span&gt;(&lt;span style=&quot;color: rgb(154 , 168 , 58)&quot;&gt;&quot;ES5&quot;&lt;/span&gt;).&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;createES5Proxy_&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;value&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;parent&lt;/span&gt;)&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="100" y="2490" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-275" value="&lt;b&gt;no Proxy&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="235" y="2420" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-278" value="&lt;b&gt;return draft&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="310" y="2350" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-287" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-279" target="nkPAldrCDChmKuOqDMVw-282" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-291" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-279" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="700" y="2705" as="targetPoint" />
            <Array as="points">
              <mxPoint x="550" y="2705" />
              <mxPoint x="550" y="2705" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-302" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.383;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-279" target="nkPAldrCDChmKuOqDMVw-301" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-279" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;draft&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(103 , 104 , 103)&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;createES5Draft&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;isArray&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198)&quot;&gt;&lt;span style=&quot;color: #c7444a&quot;&gt;Object&lt;/span&gt;.&lt;span style=&quot;color: #ce6700&quot;&gt;defineProperty&lt;/span&gt;(&lt;span style=&quot;color: #6089b4&quot;&gt;draft&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;DRAFT_STATE&lt;/span&gt;,&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#c5c8c6&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;font color=&quot;#4d4d4d&quot;&gt;value&lt;/font&gt;&lt;font color=&quot;#c5c8c6&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;state&lt;/span&gt;&lt;font color=&quot;#c5c8c6&quot;&gt;,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197 , 200 , 198)&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;font color=&quot;#4d4d4d&quot;&gt;writable&lt;/font&gt;&lt;font color=&quot;#c5c8c6&quot;&gt;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(64 , 128 , 128)&quot;&gt;true&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198)&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;})&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#4d4d4d&quot;&gt;return draft&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="150" y="2670" width="390" height="140" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-281" value="&lt;font color=&quot;#0066cc&quot;&gt;&lt;b&gt;为每个属性添加getter 以及 setter,&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="2610" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-284" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-282" target="nkPAldrCDChmKuOqDMVw-279" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-282" value="&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(152 , 114 , 162)&quot;&gt;function&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: rgb(206 , 103 , 0)&quot;&gt;createES5Proxy_&lt;/span&gt;(&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;base&lt;/span&gt;,&lt;span style=&quot;color: rgb(96 , 137 , 180)&quot;&gt;parent&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="95" y="2580" width="375" height="40" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-294" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-292" target="nkPAldrCDChmKuOqDMVw-293" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-296" style="edgeStyle=orthogonalEdgeStyle;rounded=1;jumpSize=5;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeColor=#4D4D4D;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-292" target="nkPAldrCDChmKuOqDMVw-279" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-292" value="&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;function&amp;nbsp;createES5Draft(isArray:&amp;nbsp;boolean,&amp;nbsp;base:&amp;nbsp;any)&amp;nbsp;{&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;...&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;proxyProperty(prop,&amp;nbsp;isArray)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="707" y="2650" width="443" height="80" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-293" value="&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;function&amp;nbsp;proxyProperty(prop&lt;font&gt;,&lt;/font&gt;&amp;nbsp;enumerable){&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;return {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp;congigureable: true,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp;enumerable,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp;get(this){&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp; &amp;nbsp;return&amp;nbsp;objectTraps.get(state,&amp;nbsp;prop)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp;},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp;set(this,value){&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; line-height: 19px&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp; &amp;nbsp;objectTraps.set(state,&amp;nbsp;prop,&amp;nbsp;value)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&amp;nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;}&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="868.5" y="2819" width="371.5" height="250" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-295" value="&lt;b&gt;生成一个包含getter 和setter 的描述符&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="944.25" y="2750" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-297" value="&lt;b&gt;return&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="595" y="2750" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-298" value="&lt;b&gt;为每一个属性添加 getter 和 setter&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="585" y="2780" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-299" value="&lt;b&gt;&lt;font color=&quot;#0066cc&quot;&gt;并且添加一个 DRAFT_STATE 的属性&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="580" y="2630" width="220" height="20" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-301" value="&lt;div style=&quot;font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;const&amp;nbsp;state:&amp;nbsp;ES5ObjectState&amp;nbsp;|&amp;nbsp;ES5ArrayState&amp;nbsp;=&amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;type_:&amp;nbsp;isArray&amp;nbsp;?&amp;nbsp;ProxyTypeES5Array&amp;nbsp;:&amp;nbsp;(ProxyTypeES5Object&amp;nbsp;as&amp;nbsp;any),&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;scope_:&amp;nbsp;parent&amp;nbsp;?&amp;nbsp;parent.scope_&amp;nbsp;:&amp;nbsp;getCurrentScope(),&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;modified_:&amp;nbsp;false,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;finalized_:&amp;nbsp;false,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;assigned_:&amp;nbsp;{},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;parent_:&amp;nbsp;parent,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;base_:&amp;nbsp;base,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;draft_:&amp;nbsp;draft,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;copy_:&amp;nbsp;null,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;revoked_:&amp;nbsp;false,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;isManual_:&amp;nbsp;false&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;strokeColor=#82b366;fillColor=#d5e8d4;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-230" y="2830" width="600" height="320" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-303" value="&lt;b&gt;return state&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-80" y="2740" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="_AeJyXBGR7i-ed7yOJ6l-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.001;entryY=0.072;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="nkPAldrCDChmKuOqDMVw-304" target="nkPAldrCDChmKuOqDMVw-293" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nkPAldrCDChmKuOqDMVw-304" value="&lt;br&gt;&lt;br&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-weight: normal ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #9872a2&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: #c5c8c6&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #6089b4&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: #c5c8c6&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #c5c8c6&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #c7444a&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: #c5c8c6&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #6089b4&quot;&gt;DRAFT_STATE&lt;/span&gt;&lt;span style=&quot;color: #c5c8c6&quot;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;" style="whiteSpace=wrap;html=1;rounded=0;shadow=0;align=left;strokeColor=#82b366;fillColor=#d5e8d4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="522.75" y="2923.75" width="262.25" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="_AeJyXBGR7i-ed7yOJ6l-15" value="&lt;p style=&quot;margin: 0px ; margin-top: 4px ; text-align: center&quot;&gt;&lt;b&gt;processResult&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;div style=&quot;height: 2px&quot;&gt;&lt;div style=&quot;color: rgb(197 , 200 , 198) ; font-family: &amp;#34;consolas&amp;#34; , &amp;#34;courier new&amp;#34; , monospace ; font-size: 14px ; line-height: 19px&quot;&gt;&lt;div style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&lt;span style=&quot;color: #6089b4&quot;&gt;scope&lt;/span&gt;.&lt;span style=&quot;color: #9872a2&quot;&gt;unfinalizedDrafts_&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;scope&lt;/span&gt;.&lt;span style=&quot;color: #9872a2&quot;&gt;drafts_&lt;/span&gt;.&lt;span style=&quot;color: #c7444a&quot;&gt;length&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: #9872a2&quot;&gt;const&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;baseDraft&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #676867&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;color: #6089b4&quot;&gt;scope&lt;/span&gt;.&lt;span style=&quot;color: #9872a2&quot;&gt;drafts_&lt;/span&gt;&lt;span style=&quot;color: #676867&quot;&gt;!&lt;/span&gt;[&lt;span style=&quot;color: #6089b4&quot;&gt;0&lt;/span&gt;]&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(152 , 114 , 162)&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(96 , 137 , 180)&quot;&gt;isReplaced&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(103 , 104 , 103)&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(96 , 137 , 180)&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(103 , 104 , 103)&quot;&gt;!==&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(64 , 128 , 128)&quot;&gt;undefined&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(103 , 104 , 103)&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(96 , 137 , 180)&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(103 , 104 , 103)&quot;&gt;!==&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30)&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(30 , 30 , 30) ; color: rgb(96 , 137 , 180)&quot;&gt;baseDraft&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1330" y="2520" width="690" height="140" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Q_To7-0NfWMAyJex1JaN" name="contextMenu 结构图">
    <mxGraphModel dx="1038" dy="547" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="0" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="rixy974bG_zqeqmBPDHW-0" />
        <mxCell id="rixy974bG_zqeqmBPDHW-1" parent="rixy974bG_zqeqmBPDHW-0" />
        <mxCell id="rixy974bG_zqeqmBPDHW-30" value="" style="group" parent="rixy974bG_zqeqmBPDHW-1" vertex="1" connectable="0">
          <mxGeometry x="90" y="10" width="740" height="420" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-24" value="" style="group" parent="rixy974bG_zqeqmBPDHW-30" vertex="1" connectable="0">
          <mxGeometry width="740" height="420" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-5" value="Protal" style="swimlane;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="rixy974bG_zqeqmBPDHW-24" vertex="1">
          <mxGeometry y="30" width="430" height="380" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-19" value="" style="group" parent="rixy974bG_zqeqmBPDHW-5" vertex="1" connectable="0">
          <mxGeometry x="24" y="50" width="300" height="300" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-7" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="rixy974bG_zqeqmBPDHW-19" vertex="1">
          <mxGeometry width="300" height="300" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-9" value="Menu" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="rixy974bG_zqeqmBPDHW-19" vertex="1">
          <mxGeometry x="20" y="10" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-17" value="" style="group" parent="rixy974bG_zqeqmBPDHW-19" vertex="1" connectable="0">
          <mxGeometry x="20" y="40" width="240" height="200" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-8" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="rixy974bG_zqeqmBPDHW-17" vertex="1">
          <mxGeometry width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-10" value="MenuProvider" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="rixy974bG_zqeqmBPDHW-17" vertex="1">
          <mxGeometry y="10" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-11" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="rixy974bG_zqeqmBPDHW-17" vertex="1">
          <mxGeometry y="60" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-12" value="MenuProvider" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="rixy974bG_zqeqmBPDHW-17" vertex="1">
          <mxGeometry x="10" y="70" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-13" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="rixy974bG_zqeqmBPDHW-17" vertex="1">
          <mxGeometry y="110" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-14" value="MenuProvider" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="rixy974bG_zqeqmBPDHW-17" vertex="1">
          <mxGeometry x="10" y="120" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-15" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="rixy974bG_zqeqmBPDHW-17" vertex="1">
          <mxGeometry y="160" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-16" value="MenuProvider" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="rixy974bG_zqeqmBPDHW-17" vertex="1">
          <mxGeometry x="10" y="170" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-26" value="" style="endArrow=classic;html=1;strokeWidth=4;fillColor=#f5f5f5;strokeColor=#666666;" parent="rixy974bG_zqeqmBPDHW-19" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="286" y="30" as="sourcePoint" />
            <mxPoint x="436" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-23" value="" style="group" parent="rixy974bG_zqeqmBPDHW-24" vertex="1" connectable="0">
          <mxGeometry x="420" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-20" value="将Menu 渲染&lt;br&gt;到body 下" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="rixy974bG_zqeqmBPDHW-23" vertex="1">
          <mxGeometry x="30" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-22" value="" style="endArrow=classic;html=1;entryX=0.091;entryY=0.587;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=4;" parent="rixy974bG_zqeqmBPDHW-23" target="rixy974bG_zqeqmBPDHW-20" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint y="50" as="sourcePoint" />
            <mxPoint x="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-25" value="&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 16px ; text-align: left ; background-color: rgb(255 , 255 , 255)&quot;&gt;Menu 整个组件的&lt;br&gt;渲染，包括 事件的&lt;br&gt;监听、Menu 的定位、&lt;br&gt;组件内容的渲染&lt;/span&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="rixy974bG_zqeqmBPDHW-24" vertex="1">
          <mxGeometry x="450" y="90" width="210" height="150" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-28" value="&lt;span style=&quot;color: rgb(51 , 51 , 51) ; font-family: &amp;#34;open sans&amp;#34; , &amp;#34;clear sans&amp;#34; , &amp;#34;helvetica neue&amp;#34; , &amp;#34;helvetica&amp;#34; , &amp;#34;arial&amp;#34; , sans-serif ; font-size: 16px ; text-align: left&quot;&gt;用来包裹每一行&lt;br&gt;数据，将该行的参数&lt;br&gt;传递给 &lt;br&gt;onContextMenu&lt;br&gt;&amp;nbsp;回调函数&lt;/span&gt;" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="rixy974bG_zqeqmBPDHW-24" vertex="1">
          <mxGeometry x="470" y="240" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="rixy974bG_zqeqmBPDHW-29" value="" style="endArrow=classic;html=1;strokeWidth=4;entryX=0.091;entryY=0.375;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#d5e8d4;strokeColor=#82b366;" parent="rixy974bG_zqeqmBPDHW-30" target="rixy974bG_zqeqmBPDHW-28" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="300" as="sourcePoint" />
            <mxPoint x="530" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YJVIam4gotoHIrsKpYLO" name="第 3 页">
    <mxGraphModel dx="1038" dy="547" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="xRGc-TaIYWKnK17yHywF-0" />
        <mxCell id="xRGc-TaIYWKnK17yHywF-1" parent="xRGc-TaIYWKnK17yHywF-0" />
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-0" value="" style="swimlane;startSize=0;" parent="xRGc-TaIYWKnK17yHywF-1" vertex="1">
          <mxGeometry x="200" y="50" width="230" height="420" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-1" value="type" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="10" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-6" value="finalized" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="130" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-5" value="parent" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="210" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-4" value="assigned" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="170" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-2" value="scope" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="50" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-3" value="modified" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="90" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-12" value="revoked" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="330" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-11" value="copy_" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="300" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-10" value="draft_" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="270" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-9" value="base" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="240" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="o4xRiNXOwBHsn1ENMMFt-14" value="isMaual" style="rounded=0;whiteSpace=wrap;html=1;" parent="o4xRiNXOwBHsn1ENMMFt-0" vertex="1">
          <mxGeometry x="40" y="360" width="140" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="lmkN0k22nKCXLhCEhSW1" name="第 4 页">
    <mxGraphModel dx="1865" dy="547" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-0" />
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-1" parent="5tKq0HWqhr8IB8VCJv-0-0" />
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-2" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.013;entryY=0.389;entryDx=0;entryDy=0;entryPerimeter=0;" parent="5tKq0HWqhr8IB8VCJv-0-1" source="5tKq0HWqhr8IB8VCJv-0-4" target="5tKq0HWqhr8IB8VCJv-0-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-3" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="5tKq0HWqhr8IB8VCJv-0-1" source="5tKq0HWqhr8IB8VCJv-0-4" target="5tKq0HWqhr8IB8VCJv-0-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-4" value="创建组织" style="rounded=1;whiteSpace=wrap;html=1;" parent="5tKq0HWqhr8IB8VCJv-0-1" vertex="1">
          <mxGeometry x="-780" y="90" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-5" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="5tKq0HWqhr8IB8VCJv-0-1" source="5tKq0HWqhr8IB8VCJv-0-6" target="5tKq0HWqhr8IB8VCJv-0-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-6" value="编辑成员" style="rounded=1;whiteSpace=wrap;html=1;" parent="5tKq0HWqhr8IB8VCJv-0-1" vertex="1">
          <mxGeometry x="-510" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-7" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="5tKq0HWqhr8IB8VCJv-0-1" source="5tKq0HWqhr8IB8VCJv-0-8" target="5tKq0HWqhr8IB8VCJv-0-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-8" value="编辑管理员" style="rounded=0;whiteSpace=wrap;html=1;" parent="5tKq0HWqhr8IB8VCJv-0-1" vertex="1">
          <mxGeometry x="-510" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-9" value="部门及用户列表" style="rounded=0;whiteSpace=wrap;html=1;" parent="5tKq0HWqhr8IB8VCJv-0-1" vertex="1">
          <mxGeometry x="-770" y="300" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-10" value="只改变已有管理员的是否管理员字段，不改变之前管理员的组织id字段" style="rounded=1;whiteSpace=wrap;html=1;" parent="5tKq0HWqhr8IB8VCJv-0-1" vertex="1">
          <mxGeometry x="-280" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5tKq0HWqhr8IB8VCJv-0-11" value="只改变组织id字段， 不修改已有成员的是否管理员字段， 之前的成员组织id字段初始化 ‘’" style="rounded=1;whiteSpace=wrap;html=1;" parent="5tKq0HWqhr8IB8VCJv-0-1" vertex="1">
          <mxGeometry x="-280" y="55" width="140" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="RhiyCLWyqPAV-pGnCo-1" name="duty-remind">
    <mxGraphModel dx="865" dy="456" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-0" />
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-1" parent="L6Dn-LsFBO1KkmIxln6G-0" />
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-7" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.453;entryY=-0.006;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1" source="L6Dn-LsFBO1KkmIxln6G-2" target="L6Dn-LsFBO1KkmIxln6G-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="144" y="110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-10" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1" source="L6Dn-LsFBO1KkmIxln6G-2" target="L6Dn-LsFBO1KkmIxln6G-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="460" y="110" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-2" value="&lt;font style=&quot;font-size: 18px&quot;&gt;index.js&lt;/font&gt;" style="whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="260" y="90" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-4" value="" style="endArrow=classic;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1" target="L6Dn-LsFBO1KkmIxln6G-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="305" y="10" as="sourcePoint" />
            <mxPoint x="390" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-5" value="&lt;font style=&quot;font-size: 18px&quot;&gt;entry point&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="314" y="40" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-11" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1" source="L6Dn-LsFBO1KkmIxln6G-6">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="150" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1" source="L6Dn-LsFBO1KkmIxln6G-6">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="40" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1" source="L6Dn-LsFBO1KkmIxln6G-6" target="L6Dn-LsFBO1KkmIxln6G-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="260" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-6" value="initSchedule()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="90" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.6;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1" source="L6Dn-LsFBO1KkmIxln6G-9" target="L6Dn-LsFBO1KkmIxln6G-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-9" value="listen router" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="400" y="160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-14" value="fileHandle.js" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="220" y="302.5" width="80" height="47.5" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-15" value="router.js" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="400" y="310" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1" source="L6Dn-LsFBO1KkmIxln6G-16" target="L6Dn-LsFBO1KkmIxln6G-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-16" value="dateHandle.js" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="10" y="305" width="80" height="45" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-17" value="dutyHandle.js" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="110" y="303.75" width="80" height="46.25" as="geometry" />
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;" edge="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="302.5" as="targetPoint" />
            <mxPoint x="210" y="190" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="260" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="L6Dn-LsFBO1KkmIxln6G-21" value="date.json" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="L6Dn-LsFBO1KkmIxln6G-1">
          <mxGeometry x="15" y="390" width="70" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
